# Путь к файлу

Путь к файлу может быть записан как относительный (относительно рабочей директории) или абсолютный (начиная с корневой директории файловой системы).

Мы в решении задач будем использовать относительные пути.

Относительный путь в IntelliJ Idea считается "относительно папки проекта".

Все наши файлы мы будем класть в папку `res` в корне проекта, поэтому путь к файлу всегда будет выглядеть как `res/имяФайла`.

Путь к файлу можно использовать как в виде строки, так и создав объект класса `File`:
```java
File myFile = new File("res/test.txt");
```

# Чтение данных из файла

Для чтения данных из файла мы будем использовать `BufferedReader`, которому при создании передадим разновидность `InputStreamReader`'а - `FileReader`.

Выглядеть это будет так:
```java
BufferedReader br = new BufferedReader(new FileReader(myFile));
```
или
```java
BufferedReader br = new BufferedReader(new FileReader("res/input.txt"));
```

После этого с созданным `BufferedReader` можно работать как и раньше, но читать строки через `readLine()` (как и прежде, по порядку) он будет не с клавиатуры, а из указанного файла.

При попытке указать несуществующий файл будет выброшено исключение `FileNotFoundException`.

После чтения файл можно закрыть командой
```java
br.close();
```

Если её не вызвать, файл закроется автоматически в конце программы.

# Запись данных в файл

Для записи данных в файл мы будем использовать класс `FileWriter`:
```java
FileWriter outputTxt = new FileWriter("res/output.txt");
```
При создании объекта этого класса:
- автоматически создаётся указанный файл, если его не было
- выбрасывается исключение `FileNotFoundException`, если отсутствует указанная директория (папка)
- "очищается" указанный файл, если он был
- если вы хотите открыть указанный файл для "дозаписи" - записи информации в конец, не трогая существующую информацию, то необходимо указать второй аргумент вызова (аргумент называется `append` - присоединение):
   ```java
   FileWriter outputTxt = new FileWriter("res/output.txt", true);
   ```

Для записи данных в файл используется метод `write()`.

Указанный аргумент он записывает побайтово.

Поэтому для записи информации построчно в человеко-читаемом формате необходимо передавать внутрь строку, заканчивающуюся символом конца строки `\n`:
```java
int x = 42;
outputTxt.write(x + "\n");
```

При попытке записать число "как есть":
```java
int x = 65;
outputTxt.write(x);
```
В файл будет записан двоичный код, соответствующий числу `65`, что соответствует коду символа `A`.

После записи файл необходимо закрыть командой
```java
outputTxt.close();
```
Если завершить программу без закрытия файла, "записанная" информация может остаться в буфере и **исчезнуть, не сохранившись в файле**.

# Предупреждение

Открывать одновременно один и тот же файл несколько раз **для чтения** безопасно, но каждый `BufferedReader` будет начинать сначала и иметь собственную позицию в файле.

Открывать один и тот же файл одновременно для чтения и **записи** (или в нескольких местах для **записи**) **нельзя** - это приведёт к непредсказуемым последствиям.

Убедитесь, что вы открыли для записи "свободый" файл, и после записи тут же закройте его.
