# Коллекции

## Общая схема взаимосвязи интерфейсов и их реализаций

![](https://github.com/ait-tr/cohort26/raw/main/basic_programming/lesson_55/img/collections-framework-overview.png)

## `Map`

### `HashMap`

`HashMap` — реализация такой структуры данных, как хэш-таблица. Позволяет использовать null как в
качестве ключа, так и значения. Данная коллекция не является упорядоченной: порядок хранения
элементов зависит от хэш-функции. Добавление элемента выполняется за константное время O(1), но
время удаления, получения зависит от распределения хэш-функции. В идеале является константным, но
может быть и линейным O(n).

Подробнее: [Структуры данных в картинках. `HashMap`](https://habr.com/ru/articles/128017/) (
актуально для Java < 8).

### `TreeMap`

`TreeMap` — реализация `Map`, основанная
на [красно-чёрных деревьях](https://ru.wikipedia.org/wiki/Красно-чёрное_дерево). Является
упорядоченной. По умолчанию, коллекция сортируется по ключам с использованием принципа "natural
ordering", но это поведение может быть настроено под конкретную задачу при помощи
объекта `Comparator`, который указывается в качестве параметра при создании объекта `TreeMap`.

## Очередь (Queue)

Идея: FIFO (last-in-first-out) - первый добавленный элемент должен первым покинуть коллекцию.

### `Queue`

Этот интерфейс описывает коллекции с предопределённым способом вставки и извлечения элементов, а
именно — очереди **FIFO (first-in-first-out)**. Помимо методов, определённых в
интерфейсе `Collection`, определяет дополнительные методы для извлечения и добавления элементов в
очередь.

Пример реализации: `LinkedList`, `PriorityQueue`.

### `Deque`

Интерфейс. Позволяет добавлять и удалять элементы и в начало, и в конец очереди.

Пример реализации: `LinkedList`.

### `PriorityQueue`

Конкретный класс. Особенностью данной очереди является возможность управления порядком элементов. По
умолчанию, элементы сортируются с использованием «natural ordering», но это поведение может быть
переопределено при помощи объекта `Comparator`, который задаётся при создании очереди. Данная
коллекция не поддерживает `null` в качестве элементов.

## Стек (Stack)

Идея: LIFO (last-in-first-out) - последний добавленный элемент должен первым покинуть коллекцию.

### `Stack`

Конкретный класс. `Stack` — Реализация стека **LIFO (last-in-first-out)**. После добавления в Java
1.6 интерфейса `Deque`, рекомендуется использовать именно реализации этого интерфейса,
например `ArrayDeque`.

### `ArrayDeque`

`ArrayDeque` — реализация интерфейса `Deque`, который расширяет интерфейс `Queue` методами,
позволяющими реализовать конструкцию вида **LIFO (last-in-first-out)**.

Эта коллекция представляет собой реализацию с использованием массивов, подобно `ArrayList`, но не
позволяет обращаться к элементам по индексу и хранение `null`. Как заявлено в документации,
коллекция работает быстрее, чем `Stack`, если используется как LIFO коллекция, а также быстрее,
чем `LinkedList`, если используется как FIFO.

# Временная сложность операций

| Коллекция                           | Индекс | Поиск    | Вставка                 | Удаление                             |
|-------------------------------------|--------|----------|-------------------------|--------------------------------------|
| `HashMap`                           | n/a    | O(1)     | O(1)                    | O(1)                                 |
| `TreeMap`                           | n/a    | O(log n) | O(log n)                | O(log n)                             |
| Очередь (теоретически)              | n/a    | n/a      | в начало - O(1)         | последнего - O(1)                    |
| Двусторонняя очередь (теоретически) | n/a    | n/a      | в начало и конец - O(1) | первого и последнего - O(1)          |
| Стек (теоретически)                 | n/a    | n/a      | в конец - O(1)          | последнего - O(1)                    |
| `PriorityQueue`                     | n/a    | O(log n) | O(log n)                | последнего - O(1), любого - O(log n) |
